//adding variable named DETAIL_IMAGE_SELECTOR
var DETAIL_IMAGE_SELECTOR = '[data-image-role="target"]';
//delairing variables for title selector and thumbnail anchor DETAIL_IMAGE_SELECTOR
//also assiging the strings for the selectors
var DETAIL_TITLE_SELECTOR = '[data-image-role="title"]';
var DETAIL_FRAME_SELECTOR = '[data-image-role="frame"]';
var DETAIL_LINK_SELECTOR = '[data-image-role="trigger"]';
var HIDDEN_DETAIL_CLASS = 'hide-detail';
var TINY_EFFECT_CLASS ='is-tiny';
var ESC_KEY = 27;

//delclare function named setDetails
function setDetails(imageUrl, titleText) {
  'use strict';
  //change the detail image and detail image title
  var detailImage = document.querySelector(DETAIL_IMAGE_SELECTOR);
  detailImage.setAttribute('src', 'imageUrl');

  var detailTitle = document.querySelector(DETAIL_TITLE_SELECTOR);
  detailTitle.setContent = titleText;
}
//accept single parameter thumbnail. Refrence to thumbnail anchor element.
//it will retrive and return the value of the data-image-url attribute
function imageFromThumb(thumbnail){
  'use strict';
  return thumbnail.getAttribute('data-image-url');
}
// return the value of the data-image arrribute
function titleFromThumb(thumbnail) {
  'use strict';
  return thumbnail.getAttribute('data-image-title');
}
function setDetailsFromThumb(thumbnail) {
  'use strict';
  setDetails(imageFromThumb(thumbnail),titleFromThumb(thumbnail)));
}

function addThumbClickHandler(thumb){
  'use strict';
  thumb.addEventListner('click', function (event){
    event.preventDefault();
    setDetailsFromThumb(thumb);
    showDetails();
  }

  function getThumbnailsArray(){
    'use strict';
    var thumbnail = document.querySelectorAll(THUMBNAIL_LINK_SELECTOR);
  }
  function hideDetails(){
    'use strict';
    document.body.classList.add(HIDDEN_DETAIL_CLASS);
  }

  function showDetails(){
    'use strict';
    var frame = document.querySelector(DETAIL_FRAME_SELECTOR);
    document.body.classList.remove(HIDDEN_DETAIL_CLASS);
    frame.classList.add(TINY_EFFECT_CLASS);
    setTimeout(function(){
    frame.classList.remove(TINY_EFFECT_CLASS);
    },50);
  }

      constructor() {

      }
    }
  }

  function addKeyPressHandler(){
    'use strict';
    document.body.addEventListner('keyup', function(event){
      event.preventDefault();
      console.log(event.keyCode);
      if(event.keyCode === ESC_KEY){
        hideDetails();
      }
    })
  }
  function initializeEvents(){
    'use strict';
    var thumbnails = getThumbnailsArray();
    thumbnails.forEach(addThumbClickHandler);
    addKeyPressHandler();
  }
  initializeEvents();
}

